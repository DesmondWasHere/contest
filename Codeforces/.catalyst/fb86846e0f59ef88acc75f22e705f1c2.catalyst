{"title":{"en":"B. Array Eversion","ru":"B. Выворачивание массива"},"contestId":"1591","problemIndex":"B","timeLimit":{"en":"1 second","ru":"1 секунда"},"memLimit":{"en":"256 megabytes","ru":"256 мегабайт"},"inputFormat":{"en":"standard input","ru":"стандартный ввод"},"outputFormat":{"en":"standard output","ru":"стандартный вывод"},"problemHtml":{"en":"<p>You are given an array $$$a$$$ of length $$$n$$$.</p><p>Let's define the <span class=\"tex-font-style-it\">eversion</span> operation. Let $$$x = a_n$$$. Then array $$$a$$$ is partitioned into two parts: left and right. The left part contains the elements of $$$a$$$ that are not greater than $$$x$$$ ($$$\\le x$$$). The right part contains the elements of $$$a$$$ that are strictly greater than $$$x$$$ ($$$&gt; x$$$). The order of elements in each part is kept the same as before the operation, i.&nbsp;e. the partition is stable. Then the array is replaced with the concatenation of the left and the right parts.</p><p>For example, if the array $$$a$$$ is $$$[2, 4, 1, 5, 3]$$$, the eversion goes like this: $$$[2, 4, 1, 5, 3] \\to [2, 1, 3], [4, 5] \\to [2, 1, 3, 4, 5]$$$.</p><p>We start with the array $$$a$$$ and perform eversions on this array. We can prove that after several eversions the array $$$a$$$ stops changing. Output the minimum number $$$k$$$ such that the array stops changing after $$$k$$$ eversions.</p>","ru":"<p>Вам дан массив $$$a$$$ длины $$$n$$$.</p><p>Определим операцию <span class=\"tex-font-style-bf\">выворачивания</span> массива. Положим значение $$$x = a_n$$$. Далее массив $$$a$$$ делится на две части: левую и правую. Левая часть содержит элементы массива $$$a$$$, которые не больше $$$x$$$ ($$$\\le x$$$), а правая — элементы массива $$$a$$$, строго большие $$$x$$$ ($$$&gt; x$$$). Относительный порядок элементов в частях остается таким же, как до выворачивания, то есть разделение выполняется стабильно. Затем части склеиваются: слева левая, справа правая.</p><p>Например, если $$$a$$$ равен $$$[2, 4, 1, 5, 3]$$$, то выворачивание происходит так: $$$[2, 4, 1, 5, 3] \\to [2, 1, 3], [4, 5] \\to [2, 1, 3, 4, 5]$$$.</p><p>Мы будем применять операцию выворачивания к массиву $$$a$$$ много раз. Можно показать, что после нескольких операций массив $$$a$$$ больше не будет меняться. Выведите наименьшее число $$$k$$$ такое, что после $$$k$$$ выворачиваний массив больше не будет меняться.</p>"},"inSpecsHtml":{"en":"<div class=\"section-title\">Input</div><p>Each test contains multiple test cases. The first line contains the number of test cases $$$t$$$ ($$$1 \\le t \\le 100$$$). Description of the test cases follows.</p><p>The first line contains a single integer $$$n$$$ ($$$1 \\le n \\le 2 \\cdot 10^5$$$).</p><p>The second line contains $$$n$$$ integers $$$a_1, a_2, \\dots, a_n$$$ ($$$1 \\le a_i \\le 10^9$$$).</p><p>It is guaranteed that the sum of $$$n$$$ over all test cases does not exceed $$$2 \\cdot 10^5$$$.</p>","ru":"<div class=\"section-title\">Входные данные</div><p>Во входных данных находятся несколько наборов входных данных. В первой строке находится одно целое число $$$t$$$ ($$$1 \\le t \\le 100$$$) — количество наборов входных данных. Далее следуют наборы входных данных.</p><p>В первой строке каждого набора находится единственное целое число $$$n$$$ ($$$1 \\le n \\le 2 \\cdot 10^5$$$).</p><p>Во второй строке набора находятся $$$n$$$ целых чисел $$$a_1, a_2, \\dots, a_n$$$ ($$$1 \\le a_i \\le 10^9$$$).</p><p>Гарантируется, что сумма $$$n$$$ по всем наборам входных данных не превосходит $$$2 \\cdot 10^5$$$.</p>"},"outSpecsHtml":{"en":"<div class=\"section-title\">Output</div><p>For each test case print a single integer $$$k$$$ — the number of eversions after which the array stops changing.</p>","ru":"<div class=\"section-title\">Выходные данные</div><p>Для каждого набора входных данных требуется вывести единственное число $$$k$$$ — наименьшее количество выворачиваний, после которых массив не будет меняться.</p>"},"noteHtml":{"en":"<div class=\"section-title\">Note</div><p>Consider the fist example.</p><ul> <li> The first eversion: $$$a = [1, 4, 2, 5, 3]$$$, $$$x = 3$$$. $$$[2, 4, 1, 5, 3] \\to [2, 1, 3], [4, 5] \\to [2, 1, 3, 4, 5]$$$. </li><li> The second and following eversions: $$$a = [2, 1, 3, 4, 5]$$$, $$$x = 5$$$. $$$[2, 1, 3, 4, 5] \\to [2, 1, 3, 4, 5], [] \\to [2, 1, 3, 4, 5]$$$. This eversion does not change the array, so the answer is $$$1$$$. </li></ul><p>Consider the second example. </p><ul> <li> The first eversion: $$$a = [5, 3, 2, 4, 1]$$$, $$$x = 1$$$. $$$[5, 3, 2, 4, 1] \\to [1], [5, 3, 2, 4] \\to [1, 5, 3, 2, 4]$$$. </li><li> The second eversion: $$$a = [1, 5, 3, 2, 4]$$$, $$$x = 4$$$. $$$[1, 5, 3, 2, 4] \\to [1, 3, 2, 4], [5] \\to [1, 3, 2, 4, 5]$$$. </li><li> The third and following eversions: $$$a = [1, 3, 2, 4, 5]$$$, $$$x = 5$$$. $$$[1, 3, 2, 4, 5] \\to [1, 3, 2, 4, 5], [] \\to [1, 3, 2, 4, 5]$$$. This eversion does not change the array, so the answer is $$$2$$$. </li></ul>","ru":"<div class=\"section-title\">Примечание</div><p>Рассмотрим первый пример.</p><ul> <li> Первое выворачивание: $$$a = [1, 4, 2, 5, 3]$$$, $$$x = 3$$$. $$$[2, 4, 1, 5, 3] \\to [2, 1, 3], [4, 5] \\to [2, 1, 3, 4, 5]$$$. </li><li> Второе и последующие выворачивании: $$$a = [2, 1, 3, 4, 5]$$$, $$$x = 5$$$. $$$[2, 1, 3, 4, 5] \\to [2, 1, 3, 4, 5], [] \\to [2, 1, 3, 4, 5]$$$. Эти выворачивания не меняют массив, поэтому ответ $$$1$$$. </li></ul><p>Рассмотрим второй пример. </p><ul> <li> Первое выворачивание: $$$a = [5, 3, 2, 4, 1]$$$, $$$x = 1$$$. $$$[5, 3, 2, 4, 1] \\to [1], [5, 3, 2, 4] \\to [1, 5, 3, 2, 4]$$$. </li><li> Второе выворачивание: $$$a = [1, 5, 3, 2, 4]$$$, $$$x = 4$$$. $$$[1, 5, 3, 2, 4] \\to [1, 3, 2, 4], [5] \\to [1, 3, 2, 4, 5]$$$. </li><li> Третье и последующие выворачивании: $$$a = [1, 3, 2, 4, 5]$$$, $$$x = 5$$$. $$$[1, 3, 2, 4, 5] \\to [1, 3, 2, 4, 5], [] \\to [1, 3, 2, 4, 5]$$$. Эти выворачивания не меняют массив, поэтому ответ $$$2$$$. </li></ul>"},"sampleTestcases":[{"id":1639417095245,"input":"3\n5\n2 4 1 5 3\n5\n5 3 2 4 1\n4\n1 1 1 1\n","output":"1\n2\n0\n"}],"submitUrl":"https://codeforces.com/contest/1591/submit","language":"c++","isPartOfContest":true}